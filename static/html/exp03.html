<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Physics Helper</title>
    <link rel="stylesheet" type="text/css" href="../../static/css/main.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <script>
        $(document).ready(function(){
            $("#calculate").click(function(){
                //table1
                let sumT=0;
                for(let i=1;i<=8;i++){
                    sumT+=Number($(`#t${i}`).val())
                    console.log(sumT)
                }
                let averageT=(sumT/8).toFixed(5)
                console.log(averageT)
                $("#averageT").text(averageT)
                let L=Number($("#L").val())
                let v0=(L/averageT).toFixed(5)
                $("#v0").text(v0)

                //table2
                const degree1=[20,30,40,50,60,70]
                for(let i=0;i<6;i++){
                    let xSum=0
                    let tSum=0
                    for(let j=1;j<=3;j++){
                        xSum+=Number($(`#x${j}d${degree1[i]}`).val())
                        tSum+=Number($(`#t${j}d${degree1[i]}`).val())
                    }
                    let averageX=(xSum/3).toFixed(5)
                    averageT=(tSum/3).toFixed(5)
                    $(`#averageXd${degree1[i]}`).text(averageX)
                    $(`#averageTd${degree1[i]}`).text(averageT)
                    let idealX=(Math.pow(v0,2)*Math.sin(2*degree1[i]*(Math.PI/180))/9.8).toFixed(5)
                    let idealT=(2*v0*Math.sin(degree1[i]*(Math.PI/180))/9.8).toFixed(5)
                    $(`#idealXd${degree1[i]}`).text(idealX)
                    $(`#idealTd${degree1[i]}`).text(idealT)
                    let differenceX=(Math.abs(averageX-idealX)/idealX*100).toFixed(3)
                    let differenceT=(Math.abs(averageT-idealT)/idealT*100).toFixed(3)
                    $(`#differenceXd${degree1[i]}`).text(differenceX)
                    $(`#differenceTd${degree1[i]}`).text(differenceT)
                    let maxY=((v0*Math.sin(degree1[i]*(Math.PI/180)))*(v0*Math.sin(degree1[i]*(Math.PI/180)))/(2*9.8)).toFixed(5)
                    $(`#maxYd${degree1[i]}`).text(maxY)
                }
                //table3
                const degree2=[41,42,43,44,45,46,47,48,49]
                let maxDegree=0,maxReach=0
                for(let i=0;i<9;i++){
                    let reach=Number($(`#reachd${degree2[i]}`).val())
                    if(reach>maxReach){
                        maxReach=reach
                        maxDegree=degree2[i]
                    }
                }
                $('#maxDegree').text(maxDegree)
                $('#maxReach').text(maxReach)
            })
            $("#clear").click(function(){
                const degree1=[20,30,40,50,60,70]
                const degree2=[41,42,43,44,45,46,47,48,49]
                for(let i=1;i<=8;i++){
                    $(`#t${i}`).val('')
                }
                $('#averageT').text('')
                $('#L').val('')
                $('#v0').text('')
                for(let i=0;i<6;i++){
                    for(let j=1;j<=3;j++){
                        $(`#x${j}d${degree1[i]}`).val('')
                        $(`#t${j}d${degree1[i]}`).val('')
                    }
                    $(`#averageXd${degree1[i]}`).text('')
                    $(`#averageTd${degree1[i]}`).text('')
                    $(`#idealXd${degree1[i]}`).val('')
                    $(`#idealTd${degree1[i]}`).val('')
                    $(`#differenceXd${degree1[i]}`).text('')
                    $(`#differenceTd${degree1[i]}`).text('')
                    $(`#maxTd${degree1[i]}`).text('')
                }
                for(let i=0;i<degree2.length;i++){
                    $(`#reachd${degree2[i]}`).val('')
                }
                $('#maxDegree').text('')
                $('#maxReach').text('')
            })
        })
    </script>
</head>
<body>
        <div class="container">
                <div class="row">
    <h1>포물체 운동 실험</h1>
    <input type="button" class ="btn btn-default" id="calculate" value="계산하기"/>
    <input type="button" class = "btn btn-default" id="clear" value="지우기"/>
    <!-- table1 -->
    <div class="table-responsive">
    <table class="dataTable table table-striped table-bordered table-hover">
        <tr>
            <td>횟수</td>
            <td>1회</td>
            <td>2회</td>
            <td>3회</td>
            <td>4회</td>
            <td>5회</td>
            <td>6회</td>
            <td>7회</td>
            <td>8회</td>
            <td>평균값</td>
        </tr>
        <tr>
            <td>측정값 t</td>
            <td><input id="t1" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t2" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t3" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t4" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t5" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t6" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t7" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t8" class="form-control form-control-sm" type="number"/></td>

            <td id="averageT"></td>
        </tr>
    </table>
    
    <br>
    
    <table class="resultTable table table-striped table-bordered table-hover">
        <tr>
            <td>Photogate Head<br>사이의 거리 L</td>
            <td><input type="number" class="form-control form-control-sm" id="L"></td>
            <td>v0=L/t</td>
            <td id="v0">&nbsp&nbsp&nbsp</td>
        </tr>
    </table>

    <br>
    <!-- table2 -->
    <table class="dataTable table table-striped table-bordered table-hover">
        <tr>
            <td>발사각도</td>
            <td colspan="2">20</td>
            <td colspan="2">30</td>
            <td colspan="2">40</td>
            <td colspan="2">50</td>
            <td colspan="2">60</td>
            <td colspan="2">70</td>
        </tr>
        <tr>
            <td>측정횟수</td>
            <td>x</td>
            <td>t</td>
            <td>x</td>
            <td>t</td>
            <td>x</td>
            <td>t</td>
            <td>x</td>
            <td>t</td>
            <td>x</td>
            <td>t</td>
            <td>x</td>
            <td>t</td>
        </tr>
        <tr>
            <td>1회</td>
            <td><input id="x1d20" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t1d20" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x1d30" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t1d30" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x1d40" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t1d40" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x1d50" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t1d50" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x1d60" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t1d60" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x1d70" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t1d70" class="form-control form-control-sm" type="number"/></td>
        </tr>
        <tr>
            <td>2회</td>
            <td><input id="x2d20" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t2d20" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x2d30" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t2d30" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x2d40" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t2d40" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x2d50" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t2d50" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x2d60" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t2d60" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x2d70" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t2d70" class="form-control form-control-sm" type="number"/></td>
        </tr>
        <tr>
            <td>3회</td>
            <td><input id="x3d20" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t3d20" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x3d30" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t3d30" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x3d40" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t3d40" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x3d50" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t3d50" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x3d60" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t3d60" class="form-control form-control-sm" type="number"/></td>
            <td><input id="x3d70" class="form-control form-control-sm" type="number"/></td>
            <td><input id="t3d70" class="form-control form-control-sm" type="number"/></td>
        </tr>
        <tr>
            <td>평균값</td>
            <td id="averageXd20"></td>
            <td id="averageTd20"></td>
            <td id="averageXd30"></td>
            <td id="averageTd30"></td>
            <td id="averageXd40"></td>
            <td id="averageTd40"></td>
            <td id="averageXd50"></td>
            <td id="averageTd50"></td>
            <td id="averageXd60"></td>
            <td id="averageTd60"></td>
            <td id="averageXd70"></td>
            <td id="averageTd70"></td>
        </tr>
        <tr>
            <td>이론값</td>
            <td id="idealXd20"></td>
            <td id="idealTd20"></td>
            <td id="idealXd30"></td>
            <td id="idealTd30"></td>
            <td id="idealXd40"></td>
            <td id="idealTd40"></td>
            <td id="idealXd50"></td>
            <td id="idealTd50"></td>
            <td id="idealXd60"></td>
            <td id="idealTd60"></td>
            <td id="idealXd70"></td>
            <td id="idealTd70"></td>
        </tr>
        <tr>
            <td>오차율(%)</td>
            <td id="differenceXd20"></td>
            <td id="differenceTd20"></td>
            <td id="differenceXd30"></td>
            <td id="differenceTd30"></td>
            <td id="differenceXd40"></td>
            <td id="differenceTd40"></td>
            <td id="differenceXd50"></td>
            <td id="differenceTd50"></td>
            <td id="differenceXd60"></td>
            <td id="differenceTd60"></td>
            <td id="differenceXd70"></td>
            <td id="differenceTd70"></td>
        </tr>
        <tr>
            <td>최고도달 높이 y</td>
            <td colspan="2" id="maxYd20"></td>
            <td colspan="2" id="maxYd30"></td>
            <td colspan="2" id="maxYd40"></td>
            <td colspan="2" id="maxYd50"></td>
            <td colspan="2" id="maxYd60"></td>
            <td colspan="2" id="maxYd70"></td>
        </tr>
    </table>
    <br>
    <!-- table3 -->
    <table class="dataTable table table-striped table-bordered table-hover">
        <tr>
            <td>각도</td>
            <td>41</td>
            <td>42</td>
            <td>43</td>
            <td>44</td>
            <td>45</td>
            <td>46</td>
            <td>47</td>
            <td>48</td>
            <td>49</td>
        </tr>
        <tr>
            <td>도달 거리 x(cm)</td>
            <td><input type="number" class="form-control form-control-sm" id="reachd41"/></td>
            <td><input type="number" class="form-control form-control-sm" id="reachd42"/></td>
            <td><input type="number" class="form-control form-control-sm" id="reachd43"/></td>
            <td><input type="number" class="form-control form-control-sm" id="reachd44"/></td>
            <td><input type="number" class="form-control form-control-sm" id="reachd45"/></td>
            <td><input type="number" class="form-control form-control-sm" id="reachd46"/></td>
            <td><input type="number" class="form-control form-control-sm" id="reachd47"/></td>
            <td><input type="number" class="form-control form-control-sm" id="reachd48"/></td>
            <td><input type="number" class="form-control form-control-sm" id="reachd49"/></td>
        </tr>
        <tr>
            <td>최대도달 각도</td>
            <td colspan="3" id="maxDegree">&nbsp</td>
            <td colspan="3">최대도달 거리</td>
            <td colspan="3" id="maxReach">&nbsp</td>
        </tr>
    </table>
    </div>
    </div>
</div>
<script src="js/bootstrap.min.js"></script>
</body>
</html>